#include <ros/ros.h>
#include "mscl/Types.h"
#include "mscl/Communication/Connection.h"
#include "mscl/MicroStrain/Inertial/InertialNode.h"
#include "mscl/Exceptions.h"
#include "mscl/MicroStrain/MIP/MipTypes.h"
#include <iostream>

int main(int argc, char** argv) {
	ros::init(argc, argv, "hello_world_node");

	//ros::start();

	//ROS_INFO_STREAM(mscl::MipTypes::CLASS_AHRS_IMU);

	//ros::spin()

	try {
		mscl::Connection connection = mscl::Connection::Serial("/dev/tty/ACM0", 9600);
		mscl::InertialNode node(connection);
		if(node.ping()) {
			printf("connected!");
		}


	return 0;
}
